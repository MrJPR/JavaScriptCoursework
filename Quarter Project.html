<html>
<head>
<title>Brewing Calculator</title>

<!--JavaScript-->
<script>
////////////////////////
//Calculator Functions//
////////////////////////

//Working
//Calories
function Calories(){
var first = Number(document.theForm.elements[0].value);
var second = Number(document.theForm.elements[1].value);
var AlcCal = 1881.22 * second * ((first - second) / (1.775 - first));
var CarbCal = (3550 * second * ((.1808 * first) + (.8192 * second) - 1.0004));
var TotalCal = Math.ceil(AlcCal + CarbCal);
document.getElementById("answer").innerHTML = "Based on your gravity readings, your beer has about <b>" + TotalCal + " calories</b> per 12 ounce bottle";
}

//Working
//Expected FG
function ExpectedFG(){
var OG = Number(document.theForm.elements[0].value);
var Att = Number(document.theForm.elements[4].value);
var ExpFG = Math.max(1 + ((((OG - 1) * 1000) * (100 - Att)) / 100000)).toFixed(3);
document.getElementById("answer").innerHTML = ExpFG;
}

//Working
//Apparent Attenuation
function ApparentAttenuation(){
var first = Number(document.theForm.elements[0].value);
var second = Number(document.theForm.elements[1].value);
var AppAtt = Math.max(100*((first - second)/(first - 1))).toFixed(1);
document.getElementById("answer").innerHTML = "The apparent attenuation of your yeast was <b>"+  AppAtt + "%</b>";
}

//Yeast Pitch Rate
function PitchRate(){
var first = Number(document.theForm.elements[0].value);
var second = Number(document.theForm.elements[1].value);
var sum = first / second;
document.getElementById("answer").innerHTML = sum;
}

//Working
//Specific Gravity to Plato Converter
function SpecToPlato(){
var first = Number(document.theForm.elements[2].value);
var SGtoPlato = Math.max((135.997 * Math.pow(first, 3)) - (630.272 * Math.pow(first, 2)) + (1111.14 * first) - 616.868).toFixed(1);
document.getElementById("answer").innerHTML = "An original gravity of <b>" + Math.max(first).toFixed(3) + "</b> is equivalent to <b>"+  SGtoPlato + "°P</b>";
}

//Working
//ABV
function ABV(){
var first = Number(document.theForm.elements[0].value);
var second = Number(document.theForm.elements[1].value);
var ABV = Math.max(131.25 * (first - second)).toFixed(1);
document.getElementById("answer").innerHTML = "The ABV of your beer is approximately <b>"+  ABV + "%</b>";
}

</script>
</head>


<!--HTML-->
<body>
<h2>John's Brewing Calculator</h2>

<!--Calculator Form-->
<form name="theForm">
<p>Please fill out the appropriate fields and then click your desired function.<br><p>

<!--Fillable Entries-->
<input type="text" >Original Gravity (OG)<br>
<input type="text" >Final Gravity (FG)<br>
<input type="text" >Specific Gravity (SG)<br>
<select name="cars">
  <option value="Dry">Dry Yeast</option>
  <option value="LiquidPack">Liquid Yeast (0.0mL)</option>
  <option value="LiquidVial">Liquid Yeast (0.0mL)</option>
  <option value="Slurry">Slurry</option>
</select>Yeast Type<br>
<input type="text" >Yeast Attenuation<br>
<input type="text" >Wort Gravity (WG)<br>
<input type="text" >Batch Size<br>

<!--Function Buttons-->
<input type="button" value="Calories" onClick="Calories()">
<input type="button" value="Expected FG" onClick="ExpectedFG()">
<input type="button" value="Apparent Attenuation" onClick="ApparentAttenuation()">
<input type="button" value="Pitch Rate" onClick="PitchRate()">
<input type="button" value="SG to Plato" onClick="SpecToPlato()">
<input type="button" value="ABV" onClick="ABV()"><br>

<!--Results-->
<h3>Results:</h3>
<p id = "answer" >---</p>
<br>
<input type="Reset">
<br>
<br>

<!--Instructions-->
<p id = "Explanatory Paragraph" >
<h3> Explanatory Notes </h3>

Not all functions require the same input.  For example, estimating the final gravity of your batch is based on your OG and the average attenuation of your yeast strain, so the "FG" field need not be entered for this particular function.
<br><br>
The following table lists the required fields for each function:
<br><br>

<!--Table Style-->
<style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
}
</style>

<!--Table Content-->
<table style="width:100%">
  <tr>
    <th>Function</th>
    <th>Required Fields</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>Calories</td>
    <td>OG, FG</td>
    <td>Gives the estimated calories in a 12oz beer based on the OG and FG</td>
  </tr>
  <tr>
    <td>Expected Final Gravity</td>
    <td>OG, Yeast Attenuation</td>
    <td>Gives the estimated final gravity based on OG and the average attenuation expected from a given yeast straint.</td>
  </tr>
  <tr>
    <td>Apparent Attenuation</td>
    <td>OG, FG</td>
    <td>Gives the apparent attenuation of your yeast (their efficiency) based on the OG and FG</td>
  </tr>
  <tr>
    <td>Yeast Pitch Rate</td>
    <td>OG, Batch Size</td>
    <td>Gives the estimated amount of yeast to pitch based on the OG and batch size</td>
  </tr>
  <tr>
    <td>SG to Plato</td>
    <td>SG</td>
    <td>Gives the equivalent degrees Plato (°P) based on specific gravity</td>
  </tr>
</table> 


</form>
</body>
</html>
